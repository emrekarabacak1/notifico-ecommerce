@model Notifico.Models.ChangePasswordViewModel

@{
    ViewData["Title"] = "Şifre Değiştir";
}

<style>
    .changepw-card-bg {
        background: #fff;
        border-radius: 1.1rem;
        box-shadow: 0 2px 20px 0 rgba(60,110,200,0.10);
        max-width: 410px;
        margin: 3.2rem auto 1.4rem auto;
        padding: 2.2rem 2.4rem 2.1rem 2.4rem;
        border: 1.1px solid #e3e9f6;
    }
    .changepw-title {
        font-size: 1.45rem;
        font-weight: 800;
        color: #143166;
        margin-bottom: 1.5rem;
        text-align: center;
        letter-spacing: -0.01em;
    }
    .changepw-form .form-label {
        font-weight: 700;
        color: #37446d;
        font-size: 1.04rem;
        margin-bottom: 0.15rem;
    }
    .changepw-form .form-control {
        border-radius: 0.9rem;
        border: 1.3px solid #dbe7f7;
        font-size: 1.05rem;
        padding: 0.7rem 1.05rem;
        background: #fcfcff;
        transition: border .15s;
    }
    .changepw-form .form-control:focus {
        border-color: #82a8ef;
        box-shadow: 0 0 0 2px #e5f0ff;
        background: #f4f9ff;
    }
    .changepw-form .form-group { margin-bottom: 1.17rem; }
    .changepw-form .text-danger { font-size: 0.98rem; }
    .changepw-btn-row {
        margin-top: 1.15rem;
        display: flex;
        justify-content: center;
    }
    .changepw-btn {
        border-radius: 1.8rem !important;
        padding: 0.64rem 2.25rem !important;
        font-size: 1.07rem !important;
        font-weight: 800;
        box-shadow: 0 1px 9px 0 rgba(80,110,180,0.09);
        border: none;
    }
    media (max-width: 600px) {
        .changepw-card-bg { padding: 1.1rem 0.5rem 1.1rem 0.5rem; }
        .changepw-title { font-size: 1.02rem; }
    }
</style>

<div class="changepw-card-bg">
    <div class="changepw-title">Şifre Değiştir</div>
    @if (TempData["Success"] != null)
    {
        <div class="alert alert-success">@TempData["Success"]</div>
    }
    @if (TempData["Error"] != null)
    {
        <div class="alert alert-danger">@TempData["Error"]</div>
    }
    <form asp-action="ChangePassword" method="post" autocomplete="off" class="changepw-form">
        @Html.AntiForgeryToken()
        <div asp-validation-summary="All" class="text-danger"></div>

        <div class="form-group mb-3">
            <label asp-for="OldPassword" class="form-label">Eski Şifre</label>
            <input asp-for="OldPassword" class="form-control" type="password" autocomplete="current-password" />
            <span asp-validation-for="OldPassword" class="text-danger"></span>
        </div>
        <div class="form-group mb-3">
            <label asp-for="NewPassword" class="form-label">Yeni Şifre</label>
            <input asp-for="NewPassword" class="form-control" type="password" autocomplete="new-password" />
            <span asp-validation-for="NewPassword" class="text-danger"></span>
        </div>
        <div class="form-group mb-3">
            <label asp-for="ConfirmPassword" class="form-label">Yeni Şifre (Tekrar)</label>
            <input asp-for="ConfirmPassword" class="form-control" type="password" autocomplete="new-password" />
            <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
        </div>
        <div class="changepw-btn-row">
            <button type="submit" class="btn btn-primary changepw-btn">Şifreyi Değiştir</button>
        </div>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script>
        $(function () {
        @if (TempData["Success"] != null)
        {
            <text>toastr.success("@TempData["Success"]", "Başarılı", { timeOut: 2200 }); </text>
        }
        @if (TempData["ProfileSuccess"] != null)
        {
            <text>toastr.success("@TempData["ProfileSuccess"]", "Başarılı", { timeOut: 2200 }); </text>
        }
        @if (TempData["Error"] != null)
        {
            <text>toastr.error("@TempData["Error"]", "Hata", { timeOut: 3000 }); </text>
        }
        });
    </script>
}
